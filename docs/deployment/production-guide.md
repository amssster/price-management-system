# Развёртывание в Coolify

## 1. Подготовка репозитория
1. Убедитесь, что в корне проекта добавлены файлы `Dockerfile` и `.dockerignore`.
2. Коммит и пуш изменений в удалённый репозиторий.

## 2. Настройка аккаунта и подключение репозитория
1. Зарегистрируйтесь или войдите в панель Coolify (https://coolify.io).
2. Перейдите в раздел **Apps** и нажмите **New App**.
3. Подключите ваш Git-провайдер (GitHub, GitLab или Bitbucket) и выберите нужный репозиторий и ветку.

## 3. Конфигурация приложения
1. **Build Method**: выберите **Dockerfile** и укажите путь к `Dockerfile` в корне проекта.
2. **Context Directory**: `.` (корень репозитория).
3. **Ports**: `8000` (backend-сервис).

### 3.1 Переменные окружения
В разделе **Environment Variables** задайте значения из вашего `.env.example` (и других необходимых переменных):
- `DATABASE_URL` (PostgreSQL)
- `REDIS_URL`
- `GOOGLE_SHEETS_API_KEY` (если используется)
- `TRANSLATION_API_KEY` (при необходимости)
- `SECRET_KEY`, `SMTP_USER`, `SMTP_PASSWORD` и другие по необходимости.

## 4. Деплой и проверка
1. Нажмите **Deploy** и дождитесь окончания сборки.
2. После успешного билда сервис станет доступен по выделенному Coolify домену.
3. Проверьте эндпоинты:
   - `/health` — статус сервиса.
   - `/api/docs` — Swagger UI API.

## 5. Особенности frontend
Сборка frontend уже включена в `Dockerfile` (multi-stage). Статические файлы лежат в `/static` и автоматически обслуживаются FastAPI.

Готово! Ваше приложение запущено и готово к работе через Coolify.
